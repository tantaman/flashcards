(this.webpackJsonpflashcards=this.webpackJsonpflashcards||[]).push([[0],[,,,,,,,,function(e,n,t){e.exports=t(18)},,,,,function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},,function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(5),i=t.n(c),d=(t(13),t(7));t(14);var o=function(e){var n=e.card,t=n.getContentType();switch(t){case"text":case"emptyDeckMessage":case"cardCreator":return a.a.createElement("div",{className:"Card"},n.getVisibleSide("normal"));default:throw new Error("Unhandled type "+t)}},s=t(3),u=t(1),l=t(2),h=function(){function e(n){Object(u.a)(this,e),this._data=n}return Object(l.a)(e,[{key:"advance",value:function(){var n=Object(s.a)({},this._data);return n.currentSide=(n.currentSide+1)%n.sides.length,new e(n)}},{key:"rewind",value:function(){var n=Object(s.a)({},this._data);return n.currentSide=Math.abs((n.currentSide-1)%n.sides.length),new e(n)}},{key:"getVisibleSide",value:function(e){return this._data.sides["normal"===e?this._data.currentSide:this._data.sides.length-1-this._data.currentSide]}},{key:"getContentType",value:function(){return this._data.contentType}},{key:"isStartingSide",value:function(){return 0===this._data.currentSide}}]),e}(),v=function(){function e(n){Object(u.a)(this,e),this._cardIndex=0,this._cards=n}return Object(l.a)(e,[{key:"cards",value:function(){return this._cards}},{key:"advance",value:function(){var e=this._cards[this._cardIndex].advance(),n=this._copy();return n._cards[n._cardIndex]=e,e.isStartingSide()&&(n._cardIndex=(n._cardIndex+1)%n._cards.length),n}},{key:"rewind",value:function(){var e=this._copy();if(this._cards[this._cardIndex].isStartingSide()){var n=(e._cardIndex-1)%e._cards.length;return n<0&&(n=e._cards.length+n),e._cardIndex=n,e}return e._cards[e._cardIndex]=this._cards[this._cardIndex].rewind(),e}},{key:"addCard",value:function(e){var n=this._copy();return n._cards.splice(this._cardIndex,0,e),n}},{key:"deleteTopCard",value:function(){var e=this._copy();return e._cards.splice(this._cardIndex,1),0===e._cards.length&&e._cards.push(f()),e}},{key:"_copy",value:function(){var n=new e(this._cards.concat());return n._cardIndex=this._cardIndex,n}},{key:"top",value:function(){return this._cards[this._cardIndex]}},{key:"stringify",value:function(){return JSON.stringify(this)}}]),e}();function f(){return new h({contentType:"emptyDeckMessage",sides:["You have no cards in your deck.","Create Cards"],currentSide:0})}var _=function(e){var n=e.deck;return e.onDeckChange,a.a.createElement(o,{card:n.top()})};t(15);function y(e,n){if(!e)throw new Error(n)}var p=0;var k,m=function(e){var n=e.deck,t=e.onRemove,c=e.onAdd;y(null==t||null==c,"You cannot specify both onAdd and onRemove"),y(!(null==t&&null==c),"You must specify either onAdd or onRemove");var i=Object(r.useCallback)((function(){++p,c(n.addCard(new h({contentType:"text",sides:["New Card ("+p+") Front","New Card ("+p+") Back"],currentSide:0})))}),[n,c]),d=Object(r.useCallback)((function(){t(n.deleteTopCard())}),[n,t]),o=t?d:i,s="AddRemoveCardBtn",u="+";return t&&(s+=" remove",u="-"),a.a.createElement("span",{className:s,onClick:o},u)},w=(t(16),t(6)),g=t.n(w),b=localStorage.getItem("flashcards");try{var S=JSON.parse(b);if(!S)throw new Error("No persisted cards");k=new v(S)}catch(C){k=new v([f()])}var x=function(){var e=Object(r.useState)(k),n=Object(d.a)(e,2),t=n[0],c=n[1],i=Object(r.useRef)(t);function o(e){i.current=e,c(e)}var s=Object(r.useCallback)((function(e){o(e)}),[]);return Object(r.useEffect)((function(){var e=document.getElementById("deck-container"),n=g.a.Region(e);n.bind(e,"swipe",(function(e){var n,t=((null===e||void 0===e?void 0:null===(n=e.detail)||void 0===n?void 0:n.data)||[])[0];t.velocity<.25||(t.currentDirection>=170&&t.currentDirection<=190?o(i.current.advance()):(t.currentDirection>=0&&t.currentDirection<=10||t.currentDirection>=350&&t.currentDirection<=360)&&o(i.current.rewind()))}));return function(){return n.unbind(e,"swipe")}}),[]),a.a.createElement("div",{className:"App"},a.a.createElement("div",{id:"deck-container"},a.a.createElement(_,{deck:t}),a.a.createElement(m,{deck:t,onAdd:s}),a.a.createElement(m,{deck:t,onRemove:s})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[8,1,2]]]);
//# sourceMappingURL=main.fc9dcf69.chunk.js.map