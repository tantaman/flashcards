(this.webpackJsonpflashcards=this.webpackJsonpflashcards||[]).push([[0],[,,,,,,,function(e,t,n){e.exports=n(16)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(4),i=n.n(c),d=(n(12),n(5));n(13);var o=function(e){var t=e.card,n=t.getContentType();switch(n){case"text":case"emptyDeckMessage":case"cardCreator":return r.a.createElement("div",{className:"Card"},t.getVisibleSide("normal"));default:throw new Error("Unhandled type "+n)}},s=n(6),u=n(1),l=n(2),h=function(){function e(t){Object(u.a)(this,e),this._data=t}return Object(l.a)(e,[{key:"advance",value:function(){var t=Object(s.a)({},this._data);return t.currentSide=(t.currentSide+1)%t.sides.length,new e(t)}},{key:"getVisibleSide",value:function(e){return this._data.sides["normal"===e?this._data.currentSide:this._data.sides.length-1-this._data.currentSide]}},{key:"getContentType",value:function(){return this._data.contentType}},{key:"isStartingSide",value:function(){return 0===this._data.currentSide}}]),e}(),v=function(){function e(t){Object(u.a)(this,e),this._cardIndex=0,this._cards=t}return Object(l.a)(e,[{key:"cards",value:function(){return this._cards}},{key:"advance",value:function(){var e=this._cards[this._cardIndex].advance(),t=this._copy();return t._cards[t._cardIndex]=e,e.isStartingSide()&&(t._cardIndex=(t._cardIndex+1)%t._cards.length),t}},{key:"addCard",value:function(e){var t=this._copy();return t._cards.splice(this._cardIndex,0,e),t}},{key:"deleteTopCard",value:function(){var e=this._copy();return e._cards.splice(this._cardIndex,1),0===e._cards.length&&e._cards.push(f()),e}},{key:"_copy",value:function(){var t=new e(this._cards.concat());return t._cardIndex=this._cardIndex,t}},{key:"top",value:function(){return this._cards[this._cardIndex]}},{key:"stringify",value:function(){return JSON.stringify(this)}}]),e}();function f(){return new h({contentType:"emptyDeckMessage",sides:["You have no cards in your deck.","Create Cards"],currentSide:0})}var _=function(e){var t=e.deck,n=e.onDeckChange,c=Object(a.useCallback)((function(){n(t.advance())}),[t,n]),i=t.top();return r.a.createElement("div",{onClick:c},r.a.createElement(o,{card:i}))};n(14);function k(e,t){if(!e)throw new Error(t)}var p=0;var y,m=function(e){var t=e.deck,n=e.onRemove,c=e.onAdd;k(null==n||null==c,"You cannot specify both onAdd and onRemove"),k(!(null==n&&null==c),"You must specify either onAdd or onRemove");var i=Object(a.useCallback)((function(){++p,c(t.addCard(new h({contentType:"text",sides:["New Card ("+p+") Front","New Card ("+p+") Back"],currentSide:0})))}),[t,c]),d=Object(a.useCallback)((function(){n(t.deleteTopCard())}),[t,n]),o=n?d:i,s="AddRemoveCardBtn",u="+";return n&&(s+=" remove",u="-"),r.a.createElement("span",{className:s,onClick:o},u)},w=(n(15),localStorage.getItem("flashcards"));try{var g=JSON.parse(w);if(!g)throw new Error("No persisted cards");y=new v(g)}catch(b){y=new v([f()])}var C=function(){var e=Object(a.useState)(y),t=Object(d.a)(e,2),n=t[0],c=t[1],i=Object(a.useCallback)((function(e){c(e)}),[]);return r.a.createElement("div",{className:"App"},r.a.createElement(_,{deck:n,onDeckChange:i}),r.a.createElement(m,{deck:n,onAdd:i}),r.a.createElement(m,{deck:n,onRemove:i}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[7,1,2]]]);
//# sourceMappingURL=main.9820e491.chunk.js.map